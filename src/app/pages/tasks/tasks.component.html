<section class="tasks-component" [class.empty]="!hasTasks()">

    @if(!hasTasks()) {
    <mat-card class="tasks-card" appearance="outlined">
        <mat-card-content class="tasks-content">
            <h2>ğŸ“‹Minhas Tarefas</h2>
            <p>VocÃª ainda nÃ£o tem tarefas criadas. Comece criando a sua primeira tarefa!</p>
            <button mat-flat-button (click)="cadstrarTarefa()">+ Cadastrar minha primeira tarefa</button>
        </mat-card-content>
    </mat-card>
    }

    @else {
    <mat-accordion class="tasks-accordion full-width">
        @for (task of tasks(); track task.id) {
        <mat-expansion-panel class="tasks-expansion-panel" (opened)="panelOpenState.set(true)" (closed)="panelOpenState.set(false)">
            <mat-expansion-panel-header>
                <mat-panel-title class="tasks-title">{{task.nomeTarefa}}</mat-panel-title>
                <mat-panel-description>
                    <mat-icon class="tasks-icon">calendar_month</mat-icon>{{normalizarDataEventoString(task.dataEvento).dataString}}
                    <mat-icon class="tasks-icon">schedule</mat-icon>{{normalizarDataEventoString(task.dataEvento).tempoString}}
                </mat-panel-description>
                <button class="task-action-button" mat-icon-button matSuffix (click)="editarTarefa(task)">
                    <mat-icon>edit</mat-icon>
                </button>
                <button class="task-action-button" mat-icon-button matSuffix (click)="deletarTarefa(task.id)">
                    <mat-icon>delete</mat-icon>
                </button>
            </mat-expansion-panel-header>
            <p>{{task.descricao}}</p>
        </mat-expansion-panel>
        }
    </mat-accordion>
    <button mat-flat-button (click)="cadstrarTarefa()">+ Cadastrar nova tarefa</button>
    }
</section>